<!DOCTYPE html>
<html>
<head>
  <title>admin page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .mx{
      margin-left: 100px;
      margin-right: 100px;
    }
  </style>
  <script>
    
    function checker(e){
      if(!window.confirm("Are you sure delete account!")){
        e.preventDefault();
      } else {
        return;
      }
    }
    function changeStatus(e) {
        if (!window.confirm("San pham da duoc giao thanh cong!")) {
          e.preventDefault();
        } else {
          
          return;
        }
      }
    function handleOnchangStatus(e, bill) {
      // console.log(datap[i]);
      // console.log(event.target.value);
    }

    function handleUpdateStatusOrder(e) {
      //  let statusBill = document.getElementsByName("statusBill")[0].value;
      //  console.log(statusBill);
       if (window.confirm("Are you sure update bill")) {
        // document.getElementById("edit-add-form").submit();
      } else {
        e.preventDefault();
      }
    }
  </script>
</head>
<body>
<div >


<h1 style="text-align: center;">Table Manager Bill</h1>
<table id="customers" class="table">
  <thead class="table-success">
    <tr>
      <th>STT</th>
      <th>Name</th>
      <th>Email</th>
      <th>Date of bill</th>
      <th>ID Product</th>
      <th>So luong da mua</th>
      <th>Da thanh toan chua</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  <% for(var i=0; i < data.length; i++) { %>
    <tr>
      <td><%=i+1%></td>
      <td><%= data[i].nameCustomer%></td>
      <td><%= data[i].email %></td>
      <td><%= data[i].dateBill %></td>
      <td><%= data[i].idP %></td>
      <td><%= data[i].quantityP %></td>
    
      <td>
        <select name="statusBill" onChange="handleOnchangStatus(event)"}>
          <option value="0" <%= data[i].statusBill=='0'?"selected": "" %>>Huy don hang</option>
          <option value="1" <%= data[i].statusBill=='1'?"selected": "" %>> Dang xu ly</option>
          <option value="2" <%= data[i].statusBill=='2'?"selected": "" %>>Da giao hang</option>
        </select>
      </td>
      <td> 
        <!-- <button className="btn btn-warning" onClick="handleUpdateStatusOrder(event)">Update Status</button> -->
        <a className="btn btn-warning" href="edit-add-bill?id=<%= data[i].id %>" type="button" onclick="checker(event)">Edit</a>
        <!-- <a className="btn btn-warning" href="delete-bill?id=<%= data[i].id %>" type="button" onclick="checker(event)">Delete</a> -->
      </td>
    </tr>
 <% } %>
</tbody>
</table>
<div style="text-align: center;">
  <button class="btn btn-success"><a href="edit-add-bill?id=-1" type="button" style="text-decoration-line: none; color: white;">Create new bill</a></button>
</div>
</div>
</body>
</html>


